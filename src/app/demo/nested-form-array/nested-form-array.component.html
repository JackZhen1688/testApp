<form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" class="form-horizontal">
	<div class="container">
		<p class="heading text-center">User Directory</p>
 		<button type="button" (click)="addUser()">New User</button>
		<button type="submit" >submit</button>
    <p>&nbsp;</p>
    <p>Test:<input formControlName="txtTest" placeholder="txtTest"></p>
  </div>
  <div formArrayName="users">
    <!-- User Start-->
    <div class="container user-container"  *ngFor="let user of users.controls; let i = index" formGroupName="{{i}}">
      <div class="row">
        <div class="col-8">Name
          <input formControlName="name" placeholder="Name">
        </div>
        <div class="col-4 text-right">
          <button *ngIf="form.controls.users.controls.length > 1" type="button" (click)="delUser(i)">DelUser</button>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-8">
          Phones
        </div>
      </div>
      <!-- Phone Start-->
      <div class="row" formArrayName="phones">
        <div class="col-6" *ngFor="let phone of user.controls.phones.controls; let j = index" formGroupName="{{j}}">
          <div class="container user-container">
            <div class="row">
              <div class="col-8">
                <input formControlName="phone" placeholder="Phone">
              </div>
              <div class="col-4 text-right">
                <button *ngIf="user.controls.phones.controls.length > 1" type="button" (click)="delPhone(i,j)">DelPhone</button>
              </div>
            </div>
          </div>
        </div>
        <!-- Phone End--> 
        <div class="col-6 text-center">
          <button type="button" (click)="addPhone(i)">Add New</button>
        </div>
      </div> 
    </div>
    <!-- User End-->
  </div>
</form>
